{% extends 'grad/base.html' %} {% block title %}{{curso['nome']}}{% endblock %}
{% block content %}
<div class="mx-auto max-w-screen-2xl px-4 py-6 lg:px-16">
  <div
    class="mx-auto mb-8 hidden max-w-2xl rounded-lg border border-gray-200 bg-white p-6 shadow"
    id="info-Curso"
    aria-hidden="true"
  >
    <h3
      class="mb-2 text-xl font-semibold tracking-tight text-indigo-950"
      id="nome-sigla"
    >
      {{curso['nome']}}
    </h3>
    <p class="mb-3 font-normal text-zinc-700" id="info">
      Curso {{'presencial' if curso['modalidade'].upper() == 'P' else 'remoto'}}
      de {{curso['habilita']}} com duração de {{curso['serie_final']}}
      semestres.
    </p>
  </div>
  <input type="hidden" id="id-curso" value="{{curso['id']}}" />
  <div class="mb-4 border-b border-gray-200">
    <ul
      class="-mb-px flex flex-wrap text-center font-medium"
      id="abas"
      data-tabs-active-classes="text-indigo-500 hover:text-indigo-500 border-indigo-500"
      data-tabs-inactive-classes="text-gray-500 hover:text-gray-700 border-gray-200"
      data-tabs-toggle="#conteudo-abas"
      role="tablist"
    >
      <li class="me-2" role="presentation">
        <button
          class="inline-block rounded-t-lg border-b-2 p-4"
          id="indicadores-tab"
          data-bs-target="#indicadores"
          data-bs-toggle="tab"
          type="button"
          role="tab"
          aria-controls="indicadores"
          aria-selected="true"
        >
          Indicadores
        </button>
      </li>
      <li class="me-2" role="presentation">
        <button
          class="inline-block rounded-t-lg border-b-2 p-4"
          id="disciplinas-tab"
          data-bs-target="#disciplinas"
          data-bs-toggle="tab"
          type="button"
          role="tab"
          aria-controls="disciplinas"
          aria-selected="false"
        >
          Disciplinas
        </button>
      </li>
      <li class="me-2" role="presentation">
        <button
          class="inline-block rounded-t-lg border-b-2 p-4"
          id="egressos-tab"
          data-bs-target="#egressos"
          data-bs-toggle="tab"
          type="button"
          role="tab"
          aria-controls="egressos"
          aria-selected="false"
        >
          Egressos
        </button>
      </li>
      <li class="me-2" role="presentation">
        <button
          class="inline-block rounded-t-lg border-b-2 p-4"
          id="professores-tab"
          data-bs-target="#professores"
          data-bs-toggle="tab"
          type="button"
          role="tab"
          aria-controls="professores"
          aria-selected="false"
        >
          Professores
        </button>
      </li>
    </ul>
  </div>

  <div class="relative flex justify-end gap-4 py-4">
    <button
      class="flex items-center gap-2 rounded-lg bg-indigo-400 px-6 py-3 text-sm font-bold text-zinc-50 hover:bg-indigo-500"
      id="btn-drop-filtrar"
      type="button"
      aria-controls="container-filtro-periodo"
      aria-expanded="false"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <line x1="21" x2="14" y1="4" y2="4"></line>
        <line x1="10" x2="3" y1="4" y2="4"></line>
        <line x1="21" x2="12" y1="12" y2="12"></line>
        <line x1="8" x2="3" y1="12" y2="12"></line>
        <line x1="21" x2="16" y1="20" y2="20"></line>
        <line x1="12" x2="3" y1="20" y2="20"></line>
        <line x1="14" x2="14" y1="2" y2="6"></line>
        <line x1="8" x2="8" y1="10" y2="14"></line>
        <line x1="16" x2="16" y1="18" y2="22"></line>
      </svg>
      Filtrar por período
    </button>

    <div
      class="absolute top-20 z-10 mt-2 hidden w-fit rounded-lg border border-gray-300 bg-white px-6 py-4 shadow-md"
      id="container-filtro-periodo"
    >
      <div class="flex flex-col gap-2">
        <label>Filtre por período </label>
        <div class="flex gap-2">
          <div class="relative mt-1">
            <select
              class="w-full appearance-none rounded-md border border-gray-300 bg-white px-3 py-2 pr-8 text-gray-700 focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500"
              id="ano-inicio"
            ></select>
            <div
              class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"
            >
              <svg
                class="lucide lucide-chevrons-up-down"
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="m7 15 5 5 5-5"></path>
                <path d="m7 9 5-5 5 5"></path>
              </svg>
            </div>
          </div>
          <p class="mt-auto pb-1 text-zinc-700">até</p>
          <div class="relative w-24">
            <div class="relative mt-1">
              <select
                class="w-full appearance-none rounded-md border border-gray-300 bg-white px-3 py-2 pr-8 text-gray-700 focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500"
                id="ano-fim"
              ></select>
              <div
                class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"
              >
                <svg
                  class="lucide lucide-chevrons-up-down"
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path d="m7 15 5 5 5-5"></path>
                  <path d="m7 9 5-5 5 5"></path>
                </svg>
              </div>
            </div>
          </div>
        </div>
      </div>
      <button
        class="ml-auto mt-4 block rounded-lg bg-indigo-400 px-6 py-3 text-sm font-bold text-zinc-50 hover:bg-indigo-500"
        id="btn-filtrar-periodo"
      >
        Filtrar
      </button>
    </div>

    <button
      class="flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-6 py-3 text-sm font-bold text-zinc-600 shadow-sm hover:bg-zinc-200"
      id="btn-info-Curso"
      type="button"
      aria-expanded="false"
      aria-controls="info-Curso"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <circle cx="12" cy="12" r="10"></circle>
        <path d="M12 16v-4"></path>
        <path d="M12 8h.01"></path>
      </svg>
      Sobre o Curso
    </button>
  </div>

  <div id="conteudo-abas">
    <div id="indicadores" role="tabpanel" aria-labelledby="indicadores-tab">
      <div class="grid grid-cols-1 gap-8">
        <div class="rounded-lg bg-white px-6 py-4 shadow">
          <div class="relative flex items-center justify-between">
            <h3
              class="text-lg font-semibold text-amber-700"
              id="modaltitlechartindprodsproductions"
            >
              Gênero
            </h3>
            <button
              class="bg-white p-2 text-zinc-700 hover:bg-zinc-100"
              id="btn-drop-opcoes"
              data-value="chartindprodsproductions"
              aria-expanded="false"
              aria-label="Opções"
            >
              <svg
                class="stroke-zinc-700"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <circle cx="12" cy="12" r="1"></circle>
                <circle cx="12" cy="5" r="1"></circle>
                <circle cx="12" cy="19" r="1"></circle>
              </svg>
            </button>
            <div
              class="absolute right-0 top-12 hidden w-fit rounded-lg border bg-white p-2 text-zinc-700 shadow-md"
              id="dropdown-menu"
            >
              <button
                class="flex w-full gap-2 p-2 font-normal hover:bg-zinc-200"
                onclick="SaveChart('chartindprodsproductions')"
              >
                <svg
                  class="stroke-current"
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path
                    d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"
                  ></path>
                  <path d="M14 2v4a2 2 0 0 0 2 2h4"></path>
                  <path d="M12 18v-6"></path>
                  <path d="m9 15 3 3 3-3"></path>
                </svg>
                Fazer download do gráfico
              </button>
              <button
                class="flex w-full gap-2 p-2 font-normal hover:bg-zinc-200"
                onclick="exportarParaExcel('/api/dados/ppg/indicadores/indprodart', 'chartindprodsproductions')"
              >
                <svg
                  class="stroke-current"
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path
                    d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"
                  ></path>
                  <path d="M14 2v4a2 2 0 0 0 2 2h4"></path>
                  <path d="M8 13h2"></path>
                  <path d="M14 13h2"></path>
                  <path d="M8 17h2"></path>
                  <path d="M14 17h2"></path>
                </svg>
                Exportar para .xlsx
              </button>
            </div>
          </div>
          <p
            class="pb-4 text-sm font-medium text-zinc-700"
            id="formula_indprod"
          >
            Quantidade de alunos por gênero em cada semestre.
          </p>
          <div class="h-96">
            <canvas id="graficoAlunosSexo"></canvas>
          </div>
        </div>

        <!-- 2 -->
        <div
          class="rounded-lg bg-white px-8 py-6 shadow"
          id="col-indprod-extsup"
        >
          <div class="relative flex items-center justify-between">
            <h3
              class="text-lg font-semibold text-amber-700"
              id="modaltitlechartindprodextsupsproductions"
            >
              Necessidade Especial
            </h3>
            <button
              class="bg-white p-2 text-zinc-700 hover:bg-zinc-100"
              id="saveGraph-3"
              data-value="chartindprodextsupsproductions"
              aria-expanded="false"
              aria-label="Opções"
            >
              <svg
                class="stroke-zinc-700"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <circle cx="12" cy="12" r="1"></circle>
                <circle cx="12" cy="5" r="1"></circle>
                <circle cx="12" cy="19" r="1"></circle>
              </svg>
            </button>
            <div
              class="absolute right-0 top-12 hidden w-fit rounded-lg border bg-white p-2 text-zinc-700 shadow-md"
              id="dropdown-menu-2"
            >
              <button
                class="flex w-full gap-2 p-2 font-normal hover:bg-zinc-200"
                onclick="SaveChart('chartindprodextsupsproductions')"
              >
                <svg
                  class="stroke-current"
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path
                    d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"
                  ></path>
                  <path d="M14 2v4a2 2 0 0 0 2 2h4"></path>
                  <path d="M12 18v-6"></path>
                  <path d="m9 15 3 3 3-3"></path>
                </svg>
                Fazer download do gráfico
              </button>
              <button
                class="flex w-full gap-2 p-2 font-normal hover:bg-zinc-200"
                onclick="exportarParaExcel('/api/dados/prp/geral/producoes/periodicos/qualis', 'chartindprodextsupsproductions')"
              >
                <svg
                  class="stroke-current"
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path
                    d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"
                  ></path>
                  <path d="M14 2v4a2 2 0 0 0 2 2h4"></path>
                  <path d="M8 13h2"></path>
                  <path d="M14 13h2"></path>
                  <path d="M8 17h2"></path>
                  <path d="M14 17h2"></path>
                </svg>
                Exportar para .xlsx
              </button>
            </div>
          </div>
          <p class="pb-4 text-sm font-medium text-zinc-700">
            Alunos com necessidade especial.
          </p>
          <div class="h-96">
            <canvas id="graficoNecessidadeEspecial"></canvas>
          </div>
        </div>

        <!-- 3 -->
        <div class="rounded-lg bg-white px-8 py-6 shadow" id="col-qualis">
          <div class="relative flex items-center justify-between">
            <h3
              class="text-lg font-semibold text-amber-700"
              id="modaltitlechartqualisproductions"
            >
              Forma de Ingresso
            </h3>
            <button
              class="bg-white p-2 text-zinc-700 hover:bg-zinc-100"
              id="saveGraph-4"
              data-value="chartqualisproductions"
              aria-expanded="false"
              aria-label="Opções"
            >
              <svg
                class="stroke-zinc-700"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <circle cx="12" cy="12" r="1"></circle>
                <circle cx="12" cy="5" r="1"></circle>
                <circle cx="12" cy="19" r="1"></circle>
              </svg>
            </button>
            <div
              class="absolute right-0 top-12 hidden w-fit rounded-lg border bg-white p-2 text-zinc-700 shadow-md"
              id="dropdown-menu-3"
            >
              <button
                class="flex w-full gap-2 p-2 font-normal hover:bg-zinc-200"
                onclick="SaveChart('chartqualisproductions')"
              >
                <svg
                  class="stroke-current"
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path
                    d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"
                  ></path>
                  <path d="M14 2v4a2 2 0 0 0 2 2h4"></path>
                  <path d="M12 18v-6"></path>
                  <path d="m9 15 3 3 3-3"></path>
                </svg>
                Fazer download do gráfico
              </button>
              <button
                class="flex w-full gap-2 p-2 font-normal hover:bg-zinc-200"
                onclick="exportarParaExcel('/api/dados/prp/geral/producoes/periodicos/qualis', 'chartqualisproductions')"
              >
                <svg
                  class="stroke-current"
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path
                    d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"
                  ></path>
                  <path d="M14 2v4a2 2 0 0 0 2 2h4"></path>
                  <path d="M8 13h2"></path>
                  <path d="M14 13h2"></path>
                  <path d="M8 17h2"></path>
                  <path d="M14 17h2"></path>
                </svg>
                Exportar para .xlsx
              </button>
            </div>
          </div>
          <p class="pb-4 text-sm font-medium text-zinc-700">
            Quantidade de alunos ingressantes por cada modalidade.
          </p>
          <div class="mx-auto h-96">
            <canvas id="graficoFormaIngresso"></canvas>
          </div>
        </div>

        <!-- 4 -->
        <div
          class="rounded-lg bg-white px-8 py-6 shadow"
          id="col-qualis-discente"
        >
          <div class="relative flex items-center justify-between">
            <h3
              class="text-lg font-semibold text-amber-700"
              id="modaltitlechartqualisdiscenteproductions"
            >
              Nota Média
            </h3>
            <button
              class="bg-white p-2 text-zinc-700 hover:bg-zinc-100"
              id="saveGraph-5"
              data-value="chartqualisdiscenteproductions"
              aria-expanded="false"
              aria-label="Opções"
            >
              <svg
                class="stroke-zinc-700"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <circle cx="12" cy="12" r="1"></circle>
                <circle cx="12" cy="5" r="1"></circle>
                <circle cx="12" cy="19" r="1"></circle>
              </svg>
            </button>
            <div
              class="absolute right-0 top-12 hidden w-fit rounded-lg border bg-white p-2 text-zinc-700 shadow-md"
              id="dropdown-menu"
            >
              <button
                class="flex w-full gap-2 p-2 font-normal hover:bg-zinc-200"
                onclick="SaveChart('chartqualisdiscenteproductions')"
              >
                <svg
                  class="stroke-current"
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path
                    d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"
                  ></path>
                  <path d="M14 2v4a2 2 0 0 0 2 2h4"></path>
                  <path d="M12 18v-6"></path>
                  <path d="m9 15 3 3 3-3"></path>
                </svg>
                Fazer download do gráfico
              </button>
              <button
                class="flex w-full gap-2 p-2 font-normal hover:bg-zinc-200"
                onclick="exportarParaExcel('/api/dados/prp/geral/producoes/periodicos/qualis', 'chartqualisdiscenteproductions')"
              >
                <svg
                  class="stroke-current"
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path
                    d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"
                  ></path>
                  <path d="M14 2v4a2 2 0 0 0 2 2h4"></path>
                  <path d="M8 13h2"></path>
                  <path d="M14 13h2"></path>
                  <path d="M8 17h2"></path>
                  <path d="M14 17h2"></path>
                </svg>
                Exportar para .xlsx
              </button>
            </div>
          </div>
          <p class="pb-4 text-sm font-medium text-zinc-700">
            Nota média dos alunos em todas as disciplinas do curso.
          </p>
          <div class="mx-auto h-96">
            <canvas id="graficoNotaMedia"></canvas>
          </div>
        </div>
        <div class="rounded-lg bg-white px-6 py-4 shadow">
          <div class="relative flex items-center justify-between">
            <h3
              class="text-lg font-semibold text-amber-700"
              id="modaltitlechartindprodsproductions"
            >
              Naturalidade
            </h3>
            <button
              class="bg-white p-2 text-zinc-700 hover:bg-zinc-100"
              id="btn-drop-opcoes"
              data-value="chartindprodsproductions"
              aria-expanded="false"
              aria-label="Opções"
            >
              <svg
                class="stroke-zinc-700"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <circle cx="12" cy="12" r="1"></circle>
                <circle cx="12" cy="5" r="1"></circle>
                <circle cx="12" cy="19" r="1"></circle>
              </svg>
            </button>
            <div
              class="absolute right-0 top-12 hidden w-fit rounded-lg border bg-white p-2 text-zinc-700 shadow-md"
              id="dropdown-menu"
            >
              <button
                class="flex w-full gap-2 p-2 font-normal hover:bg-zinc-200"
                onclick="SaveChart('chartindprodsproductions')"
              >
                <svg
                  class="stroke-current"
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path
                    d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"
                  ></path>
                  <path d="M14 2v4a2 2 0 0 0 2 2h4"></path>
                  <path d="M12 18v-6"></path>
                  <path d="m9 15 3 3 3-3"></path>
                </svg>
                Fazer download do gráfico
              </button>
              <button
                class="flex w-full gap-2 p-2 font-normal hover:bg-zinc-200"
                onclick="exportarParaExcel('/api/dados/ppg/indicadores/indprodart', 'chartindprodsproductions')"
              >
                <svg
                  class="stroke-current"
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path
                    d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"
                  ></path>
                  <path d="M14 2v4a2 2 0 0 0 2 2h4"></path>
                  <path d="M8 13h2"></path>
                  <path d="M14 13h2"></path>
                  <path d="M8 17h2"></path>
                  <path d="M14 17h2"></path>
                </svg>
                Exportar para .xlsx
              </button>
            </div>
          </div>
          <p class="pb-4 text-sm font-medium text-zinc-700">
            Mapa de naturalidade dos alunos.
          </p>
          <div id="mapa-brasil-container">
            <div class="mx-auto">
              <svg id="mapa-brasil"></svg>
            </div>
            <div class="flex justify-end">
              <button
                id="reset-zoom"
                class="flex items-center gap-2 rounded-lg bg-indigo-400 px-6 py-3 text-sm font-bold text-zinc-50 hover:bg-indigo-500"
              >
                Resetar Zoom
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      class="hidden"
      id="disciplinas"
      role="tabpanel"
      aria-labelledby="disciplinas-tab"
    >
      <div class="grid grid-cols-1 gap-8">
        <div class="rounded-lg bg-white px-6 py-4 shadow">
          <div class="relative flex items-center justify-between">
            <h3
              class="text-lg font-semibold text-amber-700"
              id="modaltitlechartindprodsproductions"
            >
              Média de Disciplinas
            </h3>
            <button
              class="bg-white p-2 text-zinc-700 hover:bg-zinc-100"
              id="btn-drop-opcoes"
              data-value="chartindprodsproductions"
              aria-expanded="false"
              aria-label="Opções"
            >
              <svg
                class="stroke-zinc-700"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <circle cx="12" cy="12" r="1"></circle>
                <circle cx="12" cy="5" r="1"></circle>
                <circle cx="12" cy="19" r="1"></circle>
              </svg>
            </button>
            <div
              class="absolute right-0 top-12 hidden w-fit rounded-lg border bg-white p-2 text-zinc-700 shadow-md"
              id="dropdown-menu"
            >
              <button
                class="flex w-full gap-2 p-2 font-normal hover:bg-zinc-200"
                onclick="SaveChart('chartindprodsproductions')"
              >
                <svg
                  class="stroke-current"
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path
                    d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"
                  ></path>
                  <path d="M14 2v4a2 2 0 0 0 2 2h4"></path>
                  <path d="M12 18v-6"></path>
                  <path d="m9 15 3 3 3-3"></path>
                </svg>
                Fazer download do gráfico
              </button>
              <button
                class="flex w-full gap-2 p-2 font-normal hover:bg-zinc-200"
                onclick="exportarParaExcel('/api/dados/ppg/indicadores/indprodart', 'chartindprodsproductions')"
              >
                <svg
                  class="stroke-current"
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path
                    d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"
                  ></path>
                  <path d="M14 2v4a2 2 0 0 0 2 2h4"></path>
                  <path d="M8 13h2"></path>
                  <path d="M14 13h2"></path>
                  <path d="M8 17h2"></path>
                  <path d="M14 17h2"></path>
                </svg>
                Exportar para .xlsx
              </button>
            </div>
          </div>
          <p class="pb-4 text-sm font-medium text-zinc-700">
            Média das notas de disciplinas por cada período do curso
          </p>
          <div id="abas-medias">
            <div class="mb-4 border-b border-gray-200">
              <ul
                class="-mb-px flex overflow-x-auto text-center text-sm font-medium"
                id="abas-serie-medias"
                data-tabs-active-classes="text-indigo-500 hover:text-indigo-500 border-indigo-500"
                data-tabs-inactive-classes="text-gray-500 hover:text-gray-700 border-gray-200"
                data-tabs-toggle="#conteudo-abas-medias-series"
                role="tablist"
              >
                {% for serie in range(curso['serie_inicial'],
                curso['serie_final'] + 1) %}
                <li class="me-2" role="presentation">
                  <button
                    class="inline-block rounded-t-lg border-b-2 p-4"
                    id="medias-serie{{serie}}-tab"
                    data-bs-target="#abaMediasSerie{{serie}}"
                    data-bs-toggle="tabMediasSerie"
                    type="button"
                    role="tab"
                    aria-controls="abaMediasSerie{{serie}}"
                    aria-selected="true"
                  >
                    {{serie}} º Período
                  </button>
                </li>
                {% endfor %}
                <li class="me-2" role="presentation">
                  <button
                    class="inline-block rounded-t-lg border-b-2 p-4"
                    id="medias-serie88-tab"
                    data-bs-target="#abaMediasSerie88"
                    data-bs-toggle="tabMediasSerie"
                    type="button"
                    role="tab"
                    aria-controls="abaMediasSerie88"
                    aria-selected="true"
                  >
                    Optativas
                  </button>
                </li>
              </ul>
              <div id="conteudo-abas-medias-series">
                {% for serie in range(curso['serie_inicial'],
                curso['serie_final'] + 1) %}
                <div
                  id="abaMediasSerie{{serie}}"
                  role="tabpanel"
                  aria-labelledby="abaMediasSerie{{serie}}-tab"
                >
                  <div class="mx-auto h-96">
                    <canvas id="graficoMediasSerie{{serie}}"></canvas>
                  </div>
                </div>
                {% endfor %}
                <div
                  id="abaMediasSerie88"
                  role="tabpanel"
                  aria-labelledby="abaMediasSerie88-tab"
                >
                  <div class="mx-auto h-96">
                    <canvas id="graficoMediasSerie88"></canvas>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="rounded-lg bg-white px-6 py-4 shadow">
          <div class="relative flex items-center justify-between">
            <h3
              class="text-lg font-semibold text-amber-700"
              id="modaltitlechartindprodsproductions"
            >
              Reprovações
            </h3>
            <button
              class="bg-white p-2 text-zinc-700 hover:bg-zinc-100"
              id="btn-drop-opcoes"
              data-value="chartindprodsproductions"
              aria-expanded="false"
              aria-label="Opções"
            >
              <svg
                class="stroke-zinc-700"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <circle cx="12" cy="12" r="1"></circle>
                <circle cx="12" cy="5" r="1"></circle>
                <circle cx="12" cy="19" r="1"></circle>
              </svg>
            </button>
            <div
              class="absolute right-0 top-12 hidden w-fit rounded-lg border bg-white p-2 text-zinc-700 shadow-md"
              id="dropdown-menu"
            >
              <button
                class="flex w-full gap-2 p-2 font-normal hover:bg-zinc-200"
                onclick="SaveChart('chartindprodsproductions')"
              >
                <svg
                  class="stroke-current"
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path
                    d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"
                  ></path>
                  <path d="M14 2v4a2 2 0 0 0 2 2h4"></path>
                  <path d="M12 18v-6"></path>
                  <path d="m9 15 3 3 3-3"></path>
                </svg>
                Fazer download do gráfico
              </button>
              <button
                class="flex w-full gap-2 p-2 font-normal hover:bg-zinc-200"
                onclick="exportarParaExcel('/api/dados/ppg/indicadores/indprodart', 'chartindprodsproductions')"
              >
                <svg
                  class="stroke-current"
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path
                    d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"
                  ></path>
                  <path d="M14 2v4a2 2 0 0 0 2 2h4"></path>
                  <path d="M8 13h2"></path>
                  <path d="M14 13h2"></path>
                  <path d="M8 17h2"></path>
                  <path d="M14 17h2"></path>
                </svg>
                Exportar para .xlsx
              </button>
            </div>
          </div>
          <p class="pb-4 text-sm font-medium text-zinc-700">
            <b>Média</b> do número de reprovações das disciplinas em cada
            período.
          </p>
          <div id="abas-reprovacoes">
            <div class="mb-4 border-b border-gray-200">
              <ul
                class="-mb-px flex overflow-x-auto text-center text-sm font-medium"
                id="abas-serie-reprovacoes"
                data-tabs-active-classes="text-indigo-500 hover:text-indigo-500 border-indigo-500"
                data-tabs-inactive-classes="text-gray-500 hover:text-gray-700 border-gray-200"
                data-tabs-toggle="#conteudo-abas-reprovacoes-series"
                role="tablist"
              >
                {% for serie in range(curso['serie_inicial'],
                curso['serie_final'] + 1) %}
                <li class="me-2" role="presentation">
                  <button
                    class="inline-block rounded-t-lg border-b-2 p-4"
                    id="reprovacoes-serie{{serie}}-tab"
                    data-bs-target="#abaReprovacoesSerie{{serie}}"
                    data-bs-toggle="tabReprovacoesSerie"
                    type="button"
                    role="tab"
                    aria-controls="abaReprovacoesSerie{{serie}}"
                    aria-selected="true"
                  >
                    {{serie}} º Período
                  </button>
                </li>
                {% endfor %}
                <li class="me-2" role="presentation">
                  <button
                    class="inline-block rounded-t-lg border-b-2 p-4"
                    id="reprovacoes-serie88-tab"
                    data-bs-target="#abaReprovacoesSerie88"
                    data-bs-toggle="tabReprovacoesSerie"
                    type="button"
                    role="tab"
                    aria-controls="abaReprovacoesSerie88"
                    aria-selected="false"
                  >
                    Optativas
                  </button>
                </li>
              </ul>
              <div id="conteudo-abas-reprovacoes-series">
                {% for serie in range(curso['serie_inicial'],
                curso['serie_final'] + 1) %}
                <div
                  id="abaReprovacoesSerie{{serie}}"
                  role="tabpanel"
                  aria-labelledby="abaReprovacoesSerie{{serie}}-tab"
                >
                  <div class="mx-auto h-96">
                    <canvas id="graficoReprovacaoSerie{{serie}}"></canvas>
                  </div>
                </div>
                {% endfor %}
                <div
                  id="abaReprovacoesSerie88"
                  role="tabpanel"
                  aria-labelledby="abaReprovacoesSerie88-tab"
                >
                  <div class="mx-auto h-96">
                    <canvas id="graficoReprovacaoSerie88"></canvas>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="mt-8 flex flex-col gap-2">
        <h2 class="text-xl font-semibold text-amber-700">
          Analisar Disciplina
        </h2>
        <div class="rounded-lg bg-white px-6 py-4 shadow">
          <select
            id="disciplina-select"
            class="w-full appearance-none rounded-md border border-gray-300 bg-white px-3 py-2 pr-8 text-gray-700 focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500"
          >
          </select>
        </div>
      </div>
      <div class="grid grid-cols-2 gap-8"></div>
    </div>
    <div
      class="hidden"
      id="egressos"
      role="tabpanel"
      aria-labelledby="egressos"
    >
      <div class="mt-8 rounded-lg bg-white px-6 py-4 shadow">
        <h2 class="text-lg font-semibold text-amber-700">
          Produção por Linha de Pesquisa
        </h2>
        <p class="pb-4 text-sm font-medium text-zinc-700">
          Fonte: Sucupira <br />
          Sumariza a produção do PPG por linha de pesquisa no período indicado.
        </p>
        <div class="flex items-center justify-center gap-4">
          <span class="font-bold text-zinc-700"> Tipo de produção </span>
          <div id="chartresearchlinesdata"></div>
          <span class="font-bold text-zinc-700"> Linhas de pesquisa </span>
        </div>
      </div>

      <div class="mt-8 rounded-lg bg-white px-6 py-4 text-zinc-700 shadow">
        <h2 class="text-lg font-semibold text-amber-700">
          Produção dos Projetos por Linha de Pesquisa
        </h2>
        <p class="pb-4 text-sm font-medium">
          Fonte: Sucupira <br />
          Relaciona projetos às linhas de pesquisa pelas produções geradas
        </p>
        <div class="flex items-center justify-center gap-4">
          <span class="font-bold text-zinc-700">Projeto de Pesquisa </span>
          <div id="chartprojectsresearchlinesdata"></div>
          <span class="font-bold text-zinc-700">Linhas de pesquisa </span>
        </div>
      </div>

      <div class="mt-8 rounded-lg bg-white px-6 py-4 shadow">
        <h2 class="text-lg font-semibold text-amber-700">
          Projetos dos Docentes do PPG
        </h2>
        <p class="pb-4 text-sm font-medium text-zinc-700">
          Fonte: Lattes <br />
          Sumariza os projetos do PPG apresentando o tipo de discente
          participante, se houve produção realizada e o status do projeto no
          período indicado.
        </p>
        <div class="flex font-bold text-zinc-700">
          <p>Projetos</p>
          <div id="chartprojectsdata"></div>
        </div>
      </div>
    </div>
    <div
      class="hidden"
      id="professores"
      role="tabpanel"
      aria-labelledby="professores"
    >
      <div class="mx-auto my-8 grid max-w-4xl grid-cols-3 gap-8">
        <div
          class="flex items-center justify-center rounded-lg bg-orange-100 px-8 py-6 text-center shadow"
        >
          <p class="text-indigo-950">
            <span
              class="text-3xl font-medium text-indigo-950"
              id="quantidade-bancas"
            >
            </span>
            <br />
            Bancas no período
          </p>
        </div>
        <div
          class="flex items-center justify-center rounded-lg bg-indigo-100 px-8 py-6 text-center shadow"
        >
          <p class="text-indigo-950">
            <span
              class="text-3xl font-medium text-indigo-950"
              id="quantidade-internos"
            >
            </span>
            <br />
            Docentes internos por banca em média
          </p>
        </div>

        <div
          class="flex items-center justify-center rounded-lg bg-sky-100 px-8 py-6 text-center shadow"
        >
          <p class="text-indigo-950">
            <span
              class="text-3xl font-medium text-indigo-950"
              id="quantidade-externos"
            >
            </span>
            <br />
            Participantes externos por banca em média
          </p>
        </div>
      </div>

      <div class="grid grid-cols-1 gap-8 md:grid-cols-2">
        <div class="rounded-lg bg-white px-6 py-4 shadow">
          <h2
            class="text-lg font-semibold text-amber-700"
            id="modaltitlecharttccsproductions"
          >
            Produtos vinculados aos TCCs
          </h2>
          <p class="pb-4 text-sm font-medium text-zinc-700">
            Este gráfico apresenta quantidade de produtos do PPG vinculados aos
            TCCs defendidos
          </p>
          <div>
            <canvas id="charttccsproductions"></canvas>
          </div>
        </div>
        <div class="rounded-lg bg-white px-6 py-4 shadow">
          <h2
            class="text-lg font-semibold text-amber-700"
            id="modaltitlechartartigostccs"
          >
            Artigos com qualis vinculados aos TCCs
          </h2>
          <p class="pb-4 text-sm font-medium text-zinc-700">
            Este gráfico apresenta quantidade de artigos com qualis vinculados
            aos TCCs defendidos.
          </p>
          <div>
            <canvas id="chartartigostccs"></canvas>
          </div>
        </div>

        <div class="rounded-lg bg-white px-6 py-4 shadow">
          <h2
            class="text-lg font-semibold text-amber-700"
            id="modaltitlecharttccsproductions-tipos"
          >
            Quantidade de Produtos por TCC
          </h2>
          <p class="pb-4 text-sm font-medium text-zinc-700">
            Quantidade de TCCs geradores dos produtos em cada ano. Comparado com
            médias dos PPGs de mesma nota.
          </p>
          <div style="height: 397px">
            <canvas class id="charttccsproductions-tipos"></canvas>
          </div>
        </div>

        <div class="rounded-lg bg-white px-6 py-4 shadow">
          <h2
            class="text-lg font-semibold text-amber-700"
            id="modaltitlechartlivrostccs"
          >
            Quantidade de Livros por TCC
          </h2>
          <p class="pb-4 text-sm font-medium text-zinc-700">
            Quantidade de TCCs geradores de livros e capítulos de livros em cada
            ano.
          </p>
          <div id="container-grafico-livros">
            <canvas class id="chartlivrostccs"></canvas>
          </div>
        </div>

        <div class="col-span-2 rounded-lg bg-white px-6 py-4 shadow">
          <h2 class="text-lg font-semibold text-amber-700">
            TCCs por Linha de Pesquisa
          </h2>
          <p class="pb-4 text-sm font-medium text-zinc-700">
            Fonte: Sucupira <br />
            Sumariza a produção do PPG por linha de pesquisa no período indicado
          </p>
          <div class="flex items-center justify-center gap-4">
            <span>TCC</span>
            <div id="charttccsresearchlinesdata"></div>
            <span>Linhas de pesquisa</span>
          </div>
        </div>

        <div class="col-span-2 rounded-lg bg-white px-6 py-4 shadow">
          <h2 class="text-lg font-semibold text-amber-700">
            Participantes Externos
          </h2>
          <div class="grid grid-cols-4">
            <div class="col-span-4" id="grafico-categoria"></div>
            <canvas
              class="max-h-72 max-w-72"
              id="grafico-grau-academico"
            ></canvas>
            <canvas class="max-h-72 max-w-72" id="grafico-pais-origem"></canvas>
            <canvas
              class="max-h-72 max-w-72"
              id="grafico-pais-titulacao"
            ></canvas>
            <canvas
              class="max-h-72 max-w-72"
              id="grafico-area-titulacao"
            ></canvas>
          </div>
        </div>
      </div>

      {% endblock %} {% block modais %}

      <table id="chartTable" hidden>
        <thead id="chartTableHead"></thead>
        <tbody id="chartTableBody"></tbody>
      </table>

      {% endblock %} {% block scripts %}
      <script
        src="{{ url_for('static', filename='grad/js/scripts-grad.js') }}"
        type="module"
      ></script>
      <script
        src="{{ url_for('static', filename='grad/js/graficos/gerencia-abas.js') }}"
        type="module"
      ></script>
      {% endblock %}
    </div>
  </div>
</div>
